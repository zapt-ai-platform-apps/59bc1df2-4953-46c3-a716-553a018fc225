# نيو آب (New App)

## نظرة عامة

نيو آب هو صنبور للعملات الرقمية يسمح للمستخدمين باستلام مبالغ صغيرة من مختلف العملات الرقمية المدعومة من FaucetPay. يتميز التطبيق بواجهة مستخدم محسّنة وخيارات إضافية لجعل التجربة أكثر احترافية وجاذبية.

## المزايا الجديدة والتحسينات

- **واجهة مستخدم محسّنة**: تصميم حديث وجذاب مع تجربة مستخدم أفضل.
- **عرض أسعار الصرف الحالية**: يمكن للمستخدمين رؤية أسعار الصرف الحالية للعملات الرقمية المحددة.
- **التحقق من صحة البيانات**: التحقق من صحة مدخلات المستخدم والتأكد من صحة عنوان المحفظة.
- **حالات التحميل والتنبيهات**: إضافة حالات تحميل وتنبيهات نجاح أو خطأ لمساعدة المستخدمين على فهم حالة طلباتهم.
- **دعم متعدد اللغات**: التطبيق متاح الآن بعدة لغات لتلبية احتياجات مجموعة أوسع من المستخدمين.

## رحلات المستخدم

### 1. طلب الدفع

1. **الصفحة الرئيسية**

   - ينتقل المستخدم إلى التطبيق ويرى نموذجًا محسّنًا لاختيار العملة وإدخال عنوان المحفظة.
   - يتم عرض أسعار الصرف الحالية للعملات المدعومة.

2. **اختيار العملة**

   - ينقر المستخدم على قائمة "اختر العملة".
   - يتم عرض قائمة بجميع العملات المدعومة مع رموز وشعارات العملات.
   - يختار المستخدم العملة المطلوبة (مثل BTC، ETH، DOGE).
   - يتم تحديث سعر الصرف الحالي للعملة المحددة.

3. **إدخال عنوان المحفظة**

   - يدخل المستخدم عنوان محفظة FaucetPay المرتبط بالعملة المحددة في حقل "عنوان محفظتك".
   - يتم التحقق من صحة عنوان المحفظة للتأكد من أنه ليس فارغًا وبطول مناسب.

4. **طلب الدفع**

   - ينقر المستخدم على زر "طلب الدفع".
   - يعرض التطبيق حالة تحميل تشير إلى أن الطلب قيد المعالجة.
   - يتم تعطيل الزر لمنع النقرات المتعددة.

5. **استلام التأكيد**

   - عند نجاح المعاملة، يتلقى المستخدم رسالة تأكيد تعرض المبلغ المرسل والعملة.
   - إذا كان هناك خطأ (مثل عنوان غير صالح، أو نقص في الأموال)، يتم عرض رسالة خطأ واضحة.
   - يتم إعادة تعيين النموذج لإتاحة طلب آخر.

6. **تكرار الطلبات**

   - يمكن للمستخدم تكرار العملية لطلب دفعات بعملات مختلفة أو نفس العملة بعد أي فترات انتظار مفروضة من قبل الصنبور.

## خدمات واجهة برمجة التطبيقات الخارجية (API)

- **واجهة FaucetPay API**

  - **الغرض**: إرسال مدفوعات العملات الرقمية إلى محافظ FaucetPay الخاصة بالمستخدمين.
  - **الاستخدام**: تتواصل وظيفة الخادم الخلفي `sendPayment.js` مع واجهة FaucetPay API لمعالجة طلبات الدفع بأمان.
  - **التوثيق**: [FaucetPay API Documentation](https://faucetpay.io/page/api-documentation)

- **CoinGecko API**

  - **الغرض**: الحصول على أسعار الصرف الحالية للعملات الرقمية.
  - **الاستخدام**: يتم استدعاء CoinGecko API من الواجهة الأمامية لجلب أسعار العملات مقابل الدولار الأمريكي وعرضها للمستخدمين.
  - **التوثيق**: [CoinGecko API Documentation](https://www.coingecko.com/en/api/documentation)

## المتغيرات البيئية المطلوبة

أنشئ ملفًا باسم `.env` في الدليل الجذري وقم بتضمين المتغيرات التالية:

- **VITE_PUBLIC_SENTRY_DSN**: معرف مصدر بيانات Sentry لتسجيل الأخطاء في الواجهة الأمامية.
- **VITE_PUBLIC_APP_ENV**: البيئة (مثل `development`، `production`).
- **VITE_PUBLIC_APP_ID**: معرف التطبيق.
- **PROJECT_ID**: معرف المشروع.
- **FAUCETPAY_API_KEY**: مفتاح API الخاص بـ FaucetPay (احتفظ به سريًا).
- **PAYOUT_AMOUNT**: المبلغ الذي سيتم إرساله إلى المستخدمين (بالوحدة الأصغر للعملة، مثل satoshis لعملة BTC).

## ملاحظات

- تأكد من تعيين `FAUCETPAY_API_KEY` و `PAYOUT_AMOUNT` بشكل صحيح في المتغيرات البيئية.
- لا يتطلب التطبيق مصادقة المستخدم؛ يمكن للمستخدمين طلب الدفعات دون تسجيل الدخول.
- يتم التعامل مع جميع الاستدعاءات الحساسة لواجهة API في الخادم الخلفي للحفاظ على أمان مفاتيح API.
- تم دمج Sentry لتسجيل الأخطاء في الواجهة الأمامية والخلفية.